function qs(e,t=document){if(!e)throw new Error("A selector argument is required for the qs function");return t.querySelector(e)}function createBreadcrumbs(e){const t=document.createElement("div");t.classList.add("aioseo-breadcrumbs");const n=createBreadcrumb("Home","/");t.appendChild(n);const o=createBreadcrumbSeparator();for(let r=0;r<e.length;r++){const n=e[r],a=createBreadcrumb(n.name,n.url,r===e.length-1);t.appendChild(o.cloneNode(!0)),t.appendChild(a)}return t}function createBreadcrumb(e,t,n){const o=document.createElement("span");if(o.classList.add("aioseo-breadcrumb"),t){const n=document.createElement("a");n.href=t,n.title=e,n.dataset.text=e,n.textContent=e,o.appendChild(n)}else o.textContent=e;if(!n){const e=createBreadcrumbSeparator();o.parentNode&&o.parentNode.insertBefore(e,o.nextSibling)}return o}function createBreadcrumbSeparator(){const e=document.createElement("span");return e.classList.add("aioseo-breadcrumb-separator"),e.textContent="â€º",e}function addSafeEventListenerPlugin(e=document,t,n,o){e&&"function"==typeof e.addEventListener?e.addEventListener(t,n,o):console.warn("el is not a valid EventTarget or does not support addEventListener")}const domReady$9=()=>{setTimeout((function(){const e=document.querySelectorAll(".case-study-group");e&&e.forEach((e=>{const t=e.querySelector(".wp-block-post-title");if(t){const n=function findParentElementByClass(e,t){let n=e.parentNode;for(;null!==n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains(t);)n=n.parentNode;return n}(e,"other-studies"),o=document.querySelector("body h1");n&&o&&t.innerText===o.innerText&&e.parentNode.remove();const r=t.querySelector("a");if(r){const n=r.getAttribute("href"),o=document.createElement("a");o.href=n,e.parentNode.insertBefore(o,e),o.appendChild(e),t.replaceChild(r.firstChild,r)}}}));if(document.querySelector("body.single-case-study")){const e=createBreadcrumbs([{name:"Learn",url:"/learning/"},{name:"Case studies",url:"/learning/case-studies/"},{name:document.querySelector(".wp-block-post-title").textContent}]),t=qs(".breadcrumb-placeholder");t&&t.appendChild(e)}}),0)};"complete"===document.readyState?domReady$9():document.addEventListener("DOMContentLoaded",domReady$9);const domReady$8=()=>{setTimeout((function(){const e=document.querySelectorAll(".common-component-group");e&&e.forEach((e=>{const t=e.querySelector(".taxonomy-common_component_category");if(t){const e=t.querySelectorAll(".wp-block-post-terms__separator");e&&e.forEach((e=>e.remove()));const n=t.querySelectorAll('a[rel="tag"]');n&&n.forEach((e=>{const t=document.createElement("span");t.textContent=e.textContent,t.classList.add("tag"),"Active"===e.textContent?e.remove():e.replaceWith(t)}))}const n=e.querySelector(".wp-block-post-title");if(n){const t=n.querySelector("a");if(t){const o=t.getAttribute("href"),r=document.createElement("a");r.href=o,e.parentNode.insertBefore(r,e),r.appendChild(e),n.replaceChild(t.firstChild,t)}}}));if(document.querySelector("body.single-common-component")){const e=document.querySelector(".taxonomy-common_component_category"),t=e.querySelectorAll(".wp-block-post-terms__separator");t&&t.forEach((e=>e.remove()));const n=e.querySelectorAll('a[rel="tag"]');n&&n.forEach((e=>{const t=document.createElement("span");t.textContent=e.textContent,t.classList.add("tag"),"Active"===e.textContent?e.remove():e.replaceWith(t)}));const o=document.querySelector(".getting-started-button");if(o){const e=o.querySelector(".value");if(e){o.className="wp-block-button has-size-regular is-style-default";const t=e.innerText;if(t){const n=document.createElement("a");n.href=t,n.className="wp-block-button__link wp-element-button",n.tabIndex=0,n.innerText="Start using now",e.parentNode.replaceChild(n,e)}}}const r=createBreadcrumbs([{name:"Common components",url:"/common-components/"},{name:document.querySelector(".wp-block-post-title").textContent}]),a=qs(".breadcrumb-placeholder");a&&a.appendChild(r)}}),0)};"complete"===document.readyState?domReady$8():document.addEventListener("DOMContentLoaded",domReady$8);const domReady$7=()=>{setTimeout((function(){const e=document.querySelectorAll(".cop-group");e&&e.forEach((e=>{const t=e.querySelector(".wp-block-post-title");if(t){const n=t.querySelector("a");if(n){const o=n.getAttribute("href"),r=document.createElement("a");r.href=o,e.parentNode.insertBefore(r,e),r.appendChild(e),t.replaceChild(n.firstChild,n)}}}));if(document.querySelector("body.single-cop")){const e=document.querySelectorAll(".cop-name");e&&e.forEach((e=>{const t=e.nextElementSibling;if(t&&t.classList.contains("cop-email")){const n=t.querySelector(".value").textContent.replace("mailto:",""),o=e.querySelector(".value").textContent;if(n&&o){const t=document.createElement("a");t.href=`mailto:${n}`,t.textContent=o,e.querySelector(".value").innerHTML="",e.querySelector(".value").appendChild(t)}t.remove()}}));const t=document.querySelectorAll(".cop-email");t&&t.forEach((e=>{e.remove()}));const n=document.querySelectorAll(".cop-social-link");if(n&&n.forEach((e=>{const t=e.querySelector(".value").textContent;if(t&&""!==t){const n=document.createElement("a");n&&(n.href=t,n.textContent="",e.classList.contains("msteams-link")&&(n.textContent="MS Teams"),e.classList.contains("rocketchat-link")&&(n.textContent="RocketChat"),e.classList.contains("yammer-link")&&(n.textContent="Yammer"),e.classList.contains("website-link")&&(n.textContent="Website")),e.appendChild(n),e.querySelector(".value").remove()}})),0===n.length){const e=document.querySelector(".cop-social-links-group");e&&e.remove()}const o=createBreadcrumbs([{name:"Communities",url:"/communities/"},{name:document.querySelector(".wp-block-post-title").textContent}]),r=qs(".breadcrumb-placeholder");r&&r.appendChild(o)}}),0)};"complete"===document.readyState?domReady$7():document.addEventListener("DOMContentLoaded",domReady$7);const domReady$6=()=>{setTimeout((function(){if(document.querySelector("body.learning")){const e=document.querySelector(".podcast-button");if(e){const t=e.querySelector(".value");if(t){e.className="wp-block-button has-size-regular is-style-underline";const n=t.innerText;if(n){const e=document.createElement("a");e.href=n,e.className="wp-block-button__link wp-element-button",e.tabIndex=0,e.innerText="Listen now",t.parentNode.replaceChild(e,t)}}}}}),0)};"complete"===document.readyState?domReady$6():document.addEventListener("DOMContentLoaded",domReady$6);const bcgovDigiModPlugin_initTrainingPage=function(){requestAnimationFrame((()=>{if(document.querySelector(".post-content.training")){const e=document.querySelectorAll(".card-container .flex-card");e&&e.forEach((e=>{const t=e.querySelector(".card-link");if(t){const n=t.querySelector(".value");if(n){const o=n.innerText;if(o){const r=document.createElement("a");r.href=o,r.className="card-title-link",r.tabIndex=0,e.parentNode.insertBefore(r,e),r.appendChild(e);e.querySelectorAll(".taxonomy-training_categories a").forEach((e=>{const t=document.createElement("span");t.className="training-card-tags",t.textContent=e.textContent,e.parentNode.replaceChild(t,e)}));const a=e.querySelectorAll(".wp-block-post-terms__separator");a&&a.forEach((e=>{e.remove()})),n.parentNode.removeChild(n),t.remove()}}}}))}}))};"complete"===document.readyState?bcgovDigiModPlugin_initTrainingPage():document.addEventListener("DOMContentLoaded",bcgovDigiModPlugin_initTrainingPage());const domReady$5=()=>{window.requestAnimationFrame((()=>{const e=document.querySelectorAll(".grid-layout");null!==e&&e.forEach((function(e){e.setAttribute("role","table");const t=e.querySelector(".grid-header"),n=e.querySelector(".grid-body");if(t&&n){t.setAttribute("role","row");const o=document.createElement("div");o.setAttribute("role","rowgroup"),e.replaceChild(o,t),o.appendChild(t);const r=t.querySelectorAll(".wp-block-heading");null!==r&&r.forEach((function(e){e.setAttribute("role","columnheader")})),n.setAttribute("role","rowgroup");const a=n.querySelectorAll(".wp-block-columns");a&&a.forEach((function(e){e.setAttribute("role","row")}));const c=n.querySelectorAll(".wp-block-group");c&&c.forEach((function(e,t){e.setAttribute("role","cell");const n=t%r.length,o=r[n];if(o){const t=o.innerText,n=o.tagName.toLowerCase(),r=document.createElement(n);r.innerText=t||"",r.classList.add("wp-block-heading","mobile-only"),e.insertBefore(r,e.firstChild)}}))}let o=null,r=e.previousElementSibling;for(;r;){if(r.classList.contains("wp-block-heading")){o=r;break}const e=r.querySelectorAll(".wp-block-heading");if(e.length>0){o=e[e.length-1];break}r=r.previousElementSibling}o&&o.innerText&&e.setAttribute("aria-label",o.innerText)}));const t=document.querySelectorAll(".detail-with-number-container");if(t.length>0){const e=document.createElement("div");e.setAttribute("role","grid"),e.setAttribute("data-wrap-cols",!0),e.setAttribute("data-wrap-rows",!0);const n=t[0];n.parentNode.insertBefore(e,n),t.forEach((function(t){e.appendChild(t)}));let o=null;t.forEach((function(t,n){t.setAttribute("role","row");const r=t.querySelector(".wp-block-column:nth-of-type(1)"),a=t.querySelector(".wp-block-column:nth-of-type(2)");if(a&&r){a.setAttribute("role","gridcell"),a.setAttribute("tabindex","0");const e=r.querySelectorAll(".wp-block-heading");let c="";if(e.forEach((function(e){c+=e.innerText+" ",e.setAttribute("aria-hidden",!0)})),c.trim()){if(0===n){let e=null,n=t.previousElementSibling;for(;n&&!e;){if(n.classList.contains("wp-block-heading")){e=n;break}const t=n.querySelectorAll(".wp-block-heading");if(t.length>0){e=t[t.length-1];break}n=n.previousElementSibling}let r=t.parentElement;for(;!e&&r;){for(n=r.previousElementSibling;n;){if(n.classList.contains("wp-block-heading")){e=n;break}const t=n.querySelectorAll(".wp-block-heading");if(t.length>0){e=t[t.length-1];break}n=n.previousElementSibling}r=r.parentElement}if(e){const t=e.tagName.toLowerCase();o=parseInt(t.replace("h",""))+1,o>6&&(o=6)}else o=2}const e=document.createElement(`h${o}`);e.innerText=c.trim(),e.classList.add("sr-only"),a.insertBefore(e,a.firstChild)}}if(0===n){let n=null,o=t.previousElementSibling;for(;o&&!n;){if(o.classList.contains("wp-block-heading")){n=o;break}const e=o.querySelectorAll(".wp-block-heading");if(e.length>0){n=e[e.length-1];break}o=o.previousElementSibling}let r=t.parentElement;for(;!n&&r;){for(o=r.previousElementSibling;o;){if(o.classList.contains("wp-block-heading")){n=o;break}const e=o.querySelectorAll(".wp-block-heading");if(e.length>0){n=e[e.length-1];break}o=o.previousElementSibling}r=r.parentElement}if(n){let t=n.getAttribute("id");t||(t=`grid-${Date.now()}`,n.setAttribute("id",t)),e.setAttribute("aria-labelledby",t)}}})),e.addEventListener("keydown",(function(t){const n=document.activeElement;if("gridcell"===n.getAttribute("role")){const o=n.parentElement,r=Array.from(e.querySelectorAll('[role="row"]')),a=Array.from(o.querySelectorAll('[role="gridcell"]')),c=r.indexOf(o),l=a.indexOf(n);switch(t.key){case"ArrowRight":case"ArrowDown":if(c<r.length-1){r[c+1].querySelectorAll('[role="gridcell"]')[l].focus()}break;case"ArrowLeft":case"ArrowUp":if(c>0){r[c-1].querySelectorAll('[role="gridcell"]')[l].focus()}break;case"PageDown":if(c<r.length-1){r[Math.min(c+3,r.length-1)].querySelectorAll('[role="gridcell"]')[l].focus()}t.preventDefault();break;case"PageUp":if(c>0){r[Math.max(c-3,0)].querySelectorAll('[role="gridcell"]')[l].focus()}t.preventDefault();break;case"Home":r[0].querySelector('[role="gridcell"]').focus(),t.preventDefault();break;case"End":r[r.length-1].querySelector('[role="gridcell"]:last-child').focus(),t.preventDefault()}}}))}}))};"complete"===document.readyState?domReady$5():document.addEventListener("DOMContentLoaded",domReady$5);const domReady$4=()=>{setTimeout((function(){if(document.querySelector("body.home")){const e=document.querySelector(".breadcrumb-navigation-container");e&&e.remove();const t=document.querySelectorAll(".get-started-group");t&&t.forEach((e=>{const t=e.querySelector("h3"),n=t.querySelector("a"),o=e.querySelector(".link-label .value");if(n&&o){const e=n.getAttribute("href");for(o.innerHTML=`<a href="${e}" class="wp-block-button__link has-secondary-brand-color has-text-color has-small-font-size">${o.innerHTML}</a>`,o.classList.remove("value"),o.classList.add("wp-block-button","has-small-font-size","is-style-underline");o.parentNode.classList.length>0;)o.parentNode.classList.remove(o.parentNode.classList.item(0));o.parentNode.classList.add("wp-block-buttons"),t.replaceChild(n.firstChild,n)}}))}}),0)};"complete"===document.readyState?domReady$4():document.addEventListener("DOMContentLoaded",domReady$4),jQuery&&jQuery(".gform-subscribe_wrapper").length?jQuery(document).ready((function(){jQuery(document).on("gform_post_render",(function(){jQuery(".gform_validation_errors").html("<h2 class='error-info'>The email address entered is invalid.</h2>")}))})):jQuery||console.error("jQuery is unavailable");const domMenuReady=()=>{const e=document.querySelector("header.header-container"),t=e;let n=0;const o=document.querySelector(".search-field-container"),r=document.createElement("style");r.textContent="\n\t\theader.header-container {\n\t\t\ttransition: transform 0.3s ease, opacity 0.3s ease;\n\t\t\twill-change: transform, opacity;\n\t\t}\n\t",document.head.appendChild(r);document.addEventListener("scroll",((e,t=100)=>{let n=0;return(...o)=>{const r=Date.now();r-n>=t&&(n=r,e(...o))}})((()=>{const r=document.querySelector(".back-to-top");if(r){const e=window.pageYOffset+window.innerHeight>document.body.offsetHeight-1e3;r.style.display=e?"block":"none",r.style.opacity=e?"0.75":"0"}const a=window.pageYOffset||document.documentElement.scrollTop,c=window.innerWidth>=1360;t&&(a<n&&c?a>0&&(e.style.transform="translateY(0%)",e.style.opacity="1",o&&(o.style.transform="translateY(0%)",o.style.opacity="1")):a>0&&c?(e.style.transform="translateY(-100%)",e.style.opacity="0",o&&(o.style.transform="translateY(-100%)",o.style.opacity="0")):(e.style.transform="translateY(100%)",e.style.opacity="1"),n=Math.max(0,a))}),50),{passive:!0})};"complete"===document.readyState?domMenuReady():document.addEventListener("DOMContentLoaded",domMenuReady);const domReady$3=()=>{setTimeout((()=>{const e=document.querySelector("header .current-menu-item");if(e){let t=e.closest("ul");const n=e.closest("ul").querySelectorAll(".current-menu-ancestor"),o=e.closest("ul").querySelectorAll(".current-menu-item > ul");if(o&&o.forEach((e=>{e.classList.add("current-menu-ancestor")})),t)for(;null!==t&&t.classList.contains("wp-block-navigation__submenu-container");)t.parentNode.classList.add("current-menu-ancestor"),t=t.parentNode.closest("ul");n&&n.forEach((e=>{e.classList.add("current-menu-ancestor")}))}const highlightMainNavItem=e=>{if((e=>{const t=document.querySelectorAll(".aioseo-breadcrumbs .aioseo-breadcrumb a");for(const n of t)if(n.href.includes(e))return!0;return!1})(e)){const t=document.querySelectorAll(`.wp-block-navigation-item a[href*="${e}"]`);if(t&&t.length>0){const e=t[0],n=window.location.href;if(e.href!==n){t[t.length-1].classList.add("current-menu-ancestor")}}}};(()=>{const e=document.querySelectorAll(".wp-block-navigation__container .wp-block-navigation-item a"),t=[];return e.forEach((e=>{const n=new URL(e.href).pathname.split("/").filter((e=>e));n.length>0&&t.push(n[0])})),t})().forEach((e=>{highlightMainNavItem(e)}));const doBoundsCheck=e=>{const t=e,n=t.querySelector("ul"),o=t.querySelector(".wp-block-navigation__submenu-container .wp-block-navigation__submenu-container");let r=null;n&&(r=n.getBoundingClientRect());const a=window.innerWidth||document.documentElement.clientWidth;r&&(o&&(o.style.top="0.85rem"),r.right>a&&n&&(n.classList.add("is-offscreen"),n.style.left=`calc(4px - ${n.parentNode.parentNode.offsetWidth}px)`,n.style.right="auto",n.style.position="absolute"))},t=document.querySelector("header nav"),n=document.querySelectorAll(".wp-block-navigation__container > .wp-block-navigation-item > .wp-block-navigation-item__content"),o=document.querySelectorAll(".wp-block-navigation__container > .wp-block-navigation-submenu > .wp-block-navigation-submenu__toggle"),r=document.querySelectorAll(".wp-block-navigation-submenu"),a=document.querySelectorAll("ul ul .wp-block-navigation-submenu__toggle");if(t){t.querySelectorAll("ul").forEach((e=>{const t=e.parentElement.querySelector("a").text.trim().toLowerCase().replace(/\s+/g,"_");e.setAttribute("id",`id_${t}_menu`),"NAV"===e.parentElement.tagName?(e.setAttribute("aria-label","Main menu"),e.setAttribute("role","menubar")):(e.setAttribute("role","menu"),e.setAttribute("tabindex",-1),e.setAttribute("aria-label",e.parentElement.querySelector("a").text))}));t.querySelectorAll("li").forEach((e=>{e.querySelector("ul")?e.setAttribute("role","group"):e.setAttribute("role","none")}));t.querySelectorAll("a").forEach(((e,t)=>{e.setAttribute("tabindex",-1),0===t&&e.setAttribute("tabindex",0),e.setAttribute("role","menuitem")}));t.querySelectorAll("button").forEach((e=>{const t=e.parentElement.querySelector("a").text.trim().toLowerCase().replace(/\s+/g,"_");e.setAttribute("role","menuitem"),e.setAttribute("aria-controls",`id_${t}_menu`),e.setAttribute("tabindex",-1),e.parentElement.querySelector("ul")&&e.setAttribute("aria-haspopup","true")}))}o&&n&&(n.forEach((e=>{e.addEventListener("focus",(e=>{o.forEach((e=>{e.getAttribute("aria-expanded")&&e.setAttribute("aria-expanded","false")})),a&&a.forEach((e=>{e.setAttribute("aria-expanded","false")})),e.stopImmediatePropagation()}),!0)})),o.forEach((e=>{e.addEventListener("click",(t=>{t.stopImmediatePropagation(),t.preventDefault();"true"===e.getAttribute("aria-expanded")?e.setAttribute("aria-expanded","false"):e.setAttribute("aria-expanded","true")}),!0),e.addEventListener("focus",(e=>{o.forEach((e=>{e.getAttribute("aria-expanded")&&e.setAttribute("aria-expanded","false")})),a&&a.forEach((e=>{e.setAttribute("aria-expanded","false")})),e.stopImmediatePropagation()}),!0)}))),r&&r.forEach((e=>{e.addEventListener("focusout",(e=>{const t=document.querySelector("header nav");t&&!t.contains(e.relatedTarget)&&(o&&o.forEach((e=>{e.setAttribute("aria-expanded","false")})),a&&a.forEach((e=>{e.setAttribute("aria-expanded","false")}))),e.stopImmediatePropagation()}),!0)})),a&&a.forEach((e=>{e.addEventListener("click",(t=>{let n=t.target;"LI"!==n.tagName&&(n=n.closest("li")),doBoundsCheck(n),t.stopImmediatePropagation(),t.preventDefault();const o="true"===e.getAttribute("aria-expanded");a.forEach((e=>{e.setAttribute("aria-expanded","false")})),o||e.setAttribute("aria-expanded","true")}),!0),e.addEventListener("focus",(()=>{a.forEach((e=>{e.setAttribute("aria-expanded","false")}))}),!0)}));const focusMenuItem=(e,t)=>{t<0?t=e.length-1:t>=e.length&&(t=0),e[t].focus()},closeSubmenu=(e,t=!1)=>{const n=e.closest(".wp-block-navigation-submenu");if(!n)return;if(n.querySelectorAll('.wp-block-navigation-submenu__toggle[aria-expanded="true"]').forEach((e=>{e.setAttribute("aria-expanded","false")})),t){const e=n.closest("li");if(e){const t=e.querySelector('button[role="menuitem"]'),n=e.querySelector('a[role="menuitem"]');t&&t.focus(),n&&n.focus()}}},focusFirstElementOfSiblingMenu=(e,t)=>{t.preventDefault();if(!e.closest("li"))return;let n=e.nextElementSibling;for(;n&&!n.classList.contains("wp-block-navigation__submenu-container");)n=n.nextElementSibling;if(!n)return;const o=n.querySelector('[role="menuitem"]');o&&o.focus()},moveDownSiblingMenu=e=>{const t=e.closest("li");if(!t)return;if("a"===e.localName){const n=t.querySelector('button[role="menuitem"]');if(n&&n!==e)return void n.focus()}let n=t.nextElementSibling;for(;n&&"li"!==n.tagName.toLowerCase();)n=n.nextElementSibling;if(!n)return;const o=n.querySelector('a[role="menuitem"]');o&&o.focus()},moveUpSiblingMenu=e=>{const t=e.closest("li");if(!t)return;let n=t.previousElementSibling;for(;n&&"li"!==n.tagName.toLowerCase();)n=n.previousElementSibling;if(!n)return;const o=t.querySelector('a[role="menuitem"]'),r=n.querySelector('a[role="menuitem"]'),a=n.querySelector('button[role="menuitem"]');"a"===e.localName?a?a.focus():r.focus():o.focus()};if(t){const e=Array.from(t.querySelectorAll('[role="menuitem"]')),n=Array.from(t.querySelectorAll('.wp-block-navigation__container > li > *[role="menuitem"]'));t.addEventListener("keydown",(t=>{const o=t.key,r=document.activeElement;if(!e.includes(r))return;"ArrowDown"!==o&&"ArrowUp"!==o&&"ArrowLeft"!==o&&"ArrowRight"!==o&&"Home"!==o&&"End"!==o||t.preventDefault();const a=e.indexOf(r);switch(o){case"Escape":{const e=[...document.querySelectorAll('.wp-block-navigation-submenu__toggle[aria-expanded="true"]')];if(!e.length)return;e.forEach((e=>{e.setAttribute("aria-expanded","false");const t=e.closest(".wp-block-navigation-submenu");t&&t.contains(document.activeElement)&&e.focus()})),t.stopPropagation();break}case"ArrowDown":n.includes(r)?focusFirstElementOfSiblingMenu(r,t):(r.localName,moveDownSiblingMenu(r));break;case"ArrowUp":if("button"===r.localName)focusMenuItem(e,a-1);else{const t=r.closest("li");if(!t)break;const n=t.closest("ul");if(!n)break;const o=Array.from(n.children).filter((e=>"li"===e.tagName.toLowerCase()));o.length&&o[0]!==t?moveUpSiblingMenu(r):(closeSubmenu(r),focusMenuItem(e,a-1))}break;case"ArrowRight":if(n.includes(r)){const e=n.indexOf(r);focusMenuItem(n,e+1)}else"button"===r.localName?((e=>{var t;const n=e.closest(".wp-block-navigation-submenu"),o=null==(t=e.closest(".wp-block-navigation-submenu"))?void 0:t.querySelector(".wp-block-navigation-submenu__toggle");if(o){o.setAttribute("aria-expanded","true");const e=o.closest(".wp-block-navigation-submenu").querySelectorAll('button[role="menuitem"]');e.length&&(e[0].focus(),doBoundsCheck(n))}})(r),focusMenuItem(e,a+1)):moveDownSiblingMenu(r);break;case"ArrowLeft":if(n.includes(r)){const e=n.indexOf(r);focusMenuItem(n,e-1)}else{const n=r.closest("ul");if(!n)return;const o=Array.from(n.children).filter((e=>"li"===e.tagName.toLowerCase()));if(!o.length)return;const c=o[0].querySelector('a[role="menuitem"]');"button"===r.localName?(focusMenuItem(e,a-1),closeSubmenu(r)):"a"===r.localName&&(c===r?(closeSubmenu(r,!0),focusFirstElementOfSiblingMenu(r,t)):moveUpSiblingMenu(r))}break;case"Home":n.includes(r)?focusMenuItem(e,0):(e=>{const t=e.closest("ul");if(!t)return;const n=t.querySelector("li");if(!n)return;const o=n.querySelector('[role="menuitem"]');o&&o.focus()})(r);break;case"End":n.includes(r)?focusMenuItem(e,e.length-1):(e=>{const t=e.closest("ul");if(!t)return;const n=Array.from(t.children).filter((e=>"li"===e.tagName.toLowerCase()));if(!n.length)return;const o=n[n.length-1],r=Array.from(o.children).filter((e=>"menuitem"===e.getAttribute("role")));if(!r.length)return;r[r.length-1].focus()})(r)}}))}}),0)};"complete"===document.readyState?domReady$3():document.addEventListener("DOMContentLoaded",domReady$3);const digitalGovSearch=()=>{window.requestAnimationFrame((()=>{const e=document.querySelector("body"),t=document.querySelector("body.search"),n=document.querySelector(".toggle-search-btn a"),o=document.querySelector("#search-container"),r=document.querySelectorAll("#search-container a");if(!n||!o)return;const a=o.previousElementSibling;a&&a.parentNode.insertBefore(o,a);const c=o.querySelector("input"),l=o.querySelector("button");function closeSearchContainer(){e.style.position="inherit",o.classList.add("hidden"),o.style.display="none",n.classList.remove("close"),requestAnimationFrame((()=>{n.focus()}))}n.addEventListener("click",(r=>{r.preventDefault(),t||(o.classList.contains("hidden")?(e.style.position="fixed",o.classList.remove("hidden"),o.style.display="block",n.classList.add("close"),c&&c.focus()):closeSearchContainer())})),n.addEventListener("keydown",(e=>{"Space"!==e.code&&"Enter"!==e.code||(e.preventDefault(),n.click())})),document.addEventListener("mousedown",(e=>{if(!!o.classList.contains("hidden"))return;const t=o.contains(e.target),a=n.contains(e.target),c=l&&l.contains(e.target),i=r&&[...r].some((t=>t.contains(e.target)||r.forEach((t=>t.contains(e.target)))));if(c)return e.preventDefault(),void l.click();t||a||i||setTimeout((()=>{closeSearchContainer()}),300)})),document.addEventListener("focusin",(e=>{if(!!o.classList.contains("hidden"))return;const t=o.contains(e.target),r=n.contains(e.target);t||r||setTimeout((()=>{closeSearchContainer()}),300)})),document.addEventListener("keydown",(e=>{!o.classList.contains("hidden")&&"Escape"===e.key&&(e.preventDefault(),closeSearchContainer())})),window.requestAnimationFrame((()=>{const e=document.querySelector(".bcgov-header-group");if(e){const t=window.getComputedStyle(e).getPropertyValue("height");o.style.top=t}o.style.display="none",t&&(o.remove(),n.classList.add("disabled"),n.setAttribute("tabindex","-1"))}))}))};"complete"===document.readyState?digitalGovSearch():document.addEventListener("DOMContentLoaded",digitalGovSearch);const domReady$2=()=>{setTimeout((function(){const e=document.querySelector(".in-page-nav");if(e){const t=Array.from(e.querySelectorAll("a"));let n=!1;if(t){const e=t.map((e=>document.querySelector(e.getAttribute("href"))));if(e){const o=new window.IntersectionObserver((e=>{let o=null;if(e.forEach((e=>{e.isIntersecting&&!o&&(o=e.target)})),o){const e=t.find((e=>e.getAttribute("href")===`#${o.id}`));e&&!n&&(t.forEach((e=>e.parentNode.classList.remove("active"))),e.parentNode.classList.add("active"))}}),{rootMargin:"15% 0% -75% 0%"});e.forEach((e=>{o.observe(e)})),t.forEach((e=>{e.addEventListener("click",(o=>{o.preventDefault(),t.forEach((e=>e.parentNode.classList.remove("active"))),e.parentNode.classList.add("active"),n=!0;const r=document.querySelector(e.getAttribute("href"));r&&(r.scrollIntoView({behavior:"smooth",scrollMarginTop:32}),setTimeout((()=>{r.setAttribute("tabindex","0"),r.focus(),r.style.outline="none"}),1e3)),setTimeout((()=>{n=!1}),1e3)}))}))}t.forEach((e=>e.parentNode.classList.remove("active"))),t[0].parentNode.classList.add("active")}const o=document.querySelector(".sticky");if(o){const e=document.createElement("h2");e.className="mobile-only",e.textContent="On this page",o.insertBefore(e,o.firstChild)}}}),0)};"complete"===document.readyState?domReady$2():document.addEventListener("DOMContentLoaded",domReady$2);const domReady$1=()=>{setTimeout((function(){const e=document.querySelector(".flex-cards"),t=document.querySelectorAll(".flex-card");(e||t)&&t&&t.forEach((e=>{const t=e.querySelector(".card-title");if(t){const n=t.querySelector("a");if(n){n.firstChild?t.replaceChild(n.firstChild,n):t.remove();const o=n.getAttribute("href"),r=document.createElement("a");r.href=o,e.parentNode.insertBefore(r,e),r.appendChild(e),r.classList.add("card-title-link")}}}))}),0)};"complete"===document.readyState?domReady$1():document.addEventListener("DOMContentLoaded",domReady$1);const windowResize=()=>{document.body.clientWidth,setTimeout((()=>{document.body.classList.remove("largeScreen"),document.body.classList.remove("tablet"),document.body.classList.remove("mobile")}),50)};addSafeEventListenerPlugin(window,"resize",windowResize),addSafeEventListenerPlugin(window,"load",(()=>{windowResize()}));const domReady=()=>{setTimeout((function(){const e=document.querySelectorAll(".no-events a");e.length&&setTimeout((()=>{e.forEach((e=>{const t=e.parentNode,n=document.createElement("span");Array.from(e.attributes).forEach((e=>{"href"!==e.name.toLowerCase()&&n.setAttribute(e.name,e.value)})),n.innerHTML=e.innerHTML,n.classList.add("tag");const o=e.nextElementSibling;e&&o&&o.classList.contains("wp-block-post-terms__separator")&&t.removeChild(o),t.insertBefore(n,e),t.removeChild(e)}))}),0),setTimeout((function(){const e=document.querySelectorAll(".bcgov-body-content a");e&&e.forEach((e=>{e.setAttribute("data-text",e.innerText)}))}),50)}),0)};"complete"===document.readyState?domReady():document.addEventListener("DOMContentLoaded",domReady);
